---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Step from '../components/Step.astro';
import FAQ from '../components/FAQ.astro';
import SafetyItem from '../components/SafetyItem.astro';
import Screenshot from '../components/Screenshot.astro';
import { Image } from 'astro:assets';
import mainInterfaceImg from '../assets/screenshots/main-interface.png';
import orphanedScanImg from '../assets/screenshots/orphaned-scan.png';
import oldVersionsScanImg from '../assets/screenshots/old-versions-scan.png';
---

<Layout title="Wabbajack Library Cleaner - Free Up Disk Space">
  <!-- Hero Section -->
  <header class="bg-gradient-to-br from-[#0f172a] to-[#020617] py-16 lg:py-24 border-b border-[#334155] overflow-hidden">
    <div class="max-w-7xl mx-auto px-5">
      <div class="flex flex-col lg:flex-row items-center gap-12">
        
        <!-- Hero Text -->
        <div class="lg:w-1/2 text-center lg:text-left">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight">
            <span class="bg-gradient-to-r from-violet-500 to-emerald-500 bg-clip-text text-transparent">Reclaim Your Disk</span>
            <br />
            <span class="text-white">From Wabbajack</span>
          </h1>
          <p class="text-xl text-slate-400 mb-8 leading-relaxed">
            Safely remove <strong class="text-emerald-500">orphaned mods</strong> and <strong class="text-emerald-500">old versions</strong> without breaking your modlists. A high-performance GUI tool built for the modding community.
          </p>
          
          <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8">
            <a href="https://github.com/Yakrel/wabbajack-library-cleaner/releases/latest" 
               class="inline-flex items-center justify-center gap-2 px-7 py-4 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-semibold text-lg transition-all hover:-translate-y-0.5 shadow-lg shadow-violet-900/20">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              Download for Windows
            </a>
            <a href="https://github.com/Yakrel/wabbajack-library-cleaner"
               class="inline-flex items-center justify-center gap-2 px-7 py-4 bg-[#1e293b] hover:border-violet-500 text-white rounded-lg font-semibold text-lg transition-all border border-[#334155]">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
              View Source
            </a>
          </div>
          
          <div class="flex items-center justify-center lg:justify-start gap-4 text-sm text-slate-500">
            <span class="flex items-center gap-1"><span class="w-2 h-2 bg-green-500 rounded-full"></span> Windows</span>
            <span class="flex items-center gap-1"><span class="w-2 h-2 bg-green-500 rounded-full"></span> Linux (Native)</span>
            <span class="flex items-center gap-1">üõ°Ô∏è Open Source</span>
          </div>
        </div>

        <!-- Hero App Mockup -->
        <div class="lg:w-1/2 w-full perspective-1000">
          <div class="relative group cursor-pointer">
            <!-- Glow Effect -->
            <div class="absolute -inset-1 bg-gradient-to-r from-violet-600 to-emerald-600 rounded-xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
            
            <div class="relative bg-[#0f172a] rounded-xl overflow-hidden border border-[#334155] shadow-2xl transform lg:rotate-y-[-5deg] lg:rotate-x-[5deg] group-hover:rotate-0 transition-transform duration-500">
              <Image src={mainInterfaceImg} alt="Wabbajack Library Cleaner Interface" class="w-full h-auto" />
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </header>

  <!-- Problem Section -->
  <section class="py-20 bg-[#0f172a]">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-4">The Storage Reality</h2>
      <p class="text-center text-slate-400 text-lg mb-12 max-w-2xl mx-auto">
        Wabbajack is designed to preserve every file to ensure reliability. It never deletes anything automatically, which is safe but leads to <strong class="text-white">massive accumulation</strong> of unused files over time.
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <Card 
          icon="üì¶" 
          title="Orphaned Mods" 
          description="When you delete a modlist, its downloaded archives stay behind. If you've tried multiple lists like Lorerim or Nordic Souls, their files remain in your downloads folder indefinitely."
        />
        <Card 
          icon="üìö" 
          title="Redundant Versions" 
          description="Mods update frequently. Wabbajack keeps every previous version in case you need to rollback. This often results in keeping 5-10 copies of the same mod."
        />
        <Card 
          icon="üíæ" 
          title="Disk Usage" 
          description="It's common for active modders to accumulate 200GB+ of redundant files. This tool helps you identify and remove what you truly don't need."
        />
      </div>
    </div>
  </section>

  <!-- Solution Section -->
  <section class="py-20">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-4">‚ú® The Solution</h2>
      <p class="text-center text-slate-400 text-lg mb-12 max-w-2xl mx-auto">
        Wabbajack Library Cleaner scans your downloads folder and safely removes what you don't need.
      </p>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        <div class="text-center p-6">
          <span class="text-4xl block mb-4">üîç</span>
          <h3 class="text-lg font-semibold mb-2">Smart Detection</h3>
          <p class="text-slate-400 text-sm">Reads your .wabbajack files to understand exactly which mods your current modlists actually need.</p>
        </div>
        <div class="text-center p-6">
          <span class="text-4xl block mb-4">üóëÔ∏è</span>
          <h3 class="text-lg font-semibold mb-2">Orphan Cleanup</h3>
          <p class="text-slate-400 text-sm">Finds mods that aren't used by any of your active modlists and lets you remove them.</p>
        </div>
        <div class="text-center p-6">
          <span class="text-4xl block mb-4">üìÖ</span>
          <h3 class="text-lg font-semibold mb-2">Version Cleanup</h3>
          <p class="text-slate-400 text-sm">Keeps the newest version of each mod, removes all the old duplicates.</p>
        </div>
        <div class="text-center p-6">
          <span class="text-4xl block mb-4">üíæ</span>
          <h3 class="text-lg font-semibold mb-2">Safe Deletion</h3>
          <p class="text-slate-400 text-sm">Files are moved to a backup folder, not permanently deleted. Changed your mind? Just restore them.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="py-20 bg-[#0f172a]">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-12">üöÄ How It Works</h2>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        <Step 
          number={1} 
          title="Select Wabbajack Folder" 
          description="Point to where Wabbajack.exe is installed. The app will find all your downloaded modlists automatically."
        />
        <Step 
          number={2} 
          title="Select Downloads Folder" 
          description="Point to your mod downloads folder (the big one eating your disk space)."
        />
        <Step 
          number={3} 
          title="Choose Your Modlists" 
          description="Check the modlists you're actively using. Everything else becomes fair game for cleanup."
        />
        <Step 
          number={4} 
          title="Scan & Clean" 
          description="Hit scan to see what can be removed. Happy with the results? Hit clean and watch the space come back."
        />
      </div>
    </div>
  </section>

  <!-- Screenshots -->
  <section class="py-20">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-12">üì∏ Screenshots</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <Screenshot 
          src={mainInterfaceImg} 
          alt="Main Interface - Clean and simple UI" 
          caption="Clean, step-by-step interface"
        />
        <Screenshot 
          src={orphanedScanImg} 
          alt="Orphaned Mods Scan Results" 
          caption="Orphaned mods scan results"
        />
        <Screenshot 
          src={oldVersionsScanImg} 
          alt="Old Versions Detection" 
          caption="Old versions detection"
        />
      </div>
    </div>
  </section>

  <!-- Safety Section -->
  <section class="py-20 bg-[#0f172a]">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-12">üõ°Ô∏è Safety First</h2>
      
      <div class="max-w-3xl mx-auto space-y-4">
        <SafetyItem 
          icon="‚úì" 
          title="Backup by Default" 
          description="Deleted files go to a timestamped backup folder. Nothing is permanently erased."
        />
        <SafetyItem 
          icon="‚úì" 
          title="Smart Version Detection" 
          description="Won't delete if it detects a patch file that needs the main file, or same-version files with different content."
        />
        <SafetyItem 
          icon="‚úì" 
          title="Scan Before Delete" 
          description="Always preview what will be deleted. See exact file counts and sizes before committing."
        />
        <SafetyItem 
          icon="‚úì" 
          title="Open Source" 
          description="The code is on GitHub. See exactly what it does. No hidden behavior."
        />
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="py-20">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-12">‚ùì FAQ</h2>
      
      <div class="max-w-3xl mx-auto">
        <FAQ title="Will this break my modlists?">
          <p>No. The orphan cleanup only removes mods that aren't used by any of your selected modlists. If you select all your active modlists, everything they need stays. The version cleanup is more aggressive - some older modlists might need specific old versions, so be careful with that one.</p>
        </FAQ>
        
        <FAQ title="How much space can I save?">
          <p>It depends on how many modlists you've tried. Users typically recover 50-200 GB. If you've been modding for years, it could be even more.</p>
        </FAQ>
        
        <FAQ title="What if I want to try an old modlist again?">
          <p>Wabbajack will just re-download what it needs. The whole point of Wabbajack is that it handles downloads automatically. Keeping old mods "just in case" is usually not necessary.</p>
        </FAQ>
        
        <FAQ title="Is it safe?">
          <p>Yes. Files are moved to a backup folder by default. If something goes wrong, you can restore them. The app also has multiple safety checks to avoid deleting files that might be needed.</p>
        </FAQ>
        
        <FAQ title="Does it work on Linux?">
          <p>Yes! Native Linux binaries are available. Perfect for Steam Deck users running Wabbajack through Proton.</p>
        </FAQ>
        
        <FAQ title="Where does it move deleted files?">
          <p>To a folder called <code class="bg-[#020617] px-2 py-1 rounded text-sm font-mono">WLC_Deleted</code> inside your downloads folder, with a timestamp subfolder. Example: <code class="bg-[#020617] px-2 py-1 rounded text-sm font-mono">F:\Wabbajack\WLC_Deleted\2025-01-15_14-30-00\</code></p>
        </FAQ>
      </div>
    </div>
  </section>

  <!-- Download Section -->
  <section class="py-20 bg-[#0f172a]">
    <div class="max-w-6xl mx-auto px-5">
      <h2 class="text-3xl font-bold text-center mb-12">‚¨áÔ∏è Download</h2>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 max-w-xl mx-auto mb-8">
        <div class="bg-[#1e293b] border border-[#334155] rounded-xl p-8 text-center">
          <h3 class="text-2xl mb-2">ü™ü Windows</h3>
          <p class="text-slate-400 mb-5">Windows 10/11 (64-bit)</p>
          <a href="https://github.com/Yakrel/wabbajack-library-cleaner/releases/latest/download/wabbajack-library-cleaner.exe"
             class="inline-block px-6 py-3 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-semibold transition-colors">
            Download .exe
          </a>
        </div>
        <div class="bg-[#1e293b] border border-[#334155] rounded-xl p-8 text-center">
          <h3 class="text-2xl mb-2">üêß Linux</h3>
          <p class="text-slate-400 mb-5">Any modern distro (64-bit)</p>
          <a href="https://github.com/Yakrel/wabbajack-library-cleaner/releases/latest/download/wabbajack-library-cleaner-linux"
             class="inline-block px-6 py-3 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-semibold transition-colors">
            Download Binary
          </a>
        </div>
      </div>
      
      <p class="text-center">
        <a href="https://github.com/Yakrel/wabbajack-library-cleaner" class="text-slate-400 hover:text-violet-500 transition-colors">
          üìÇ View Source on GitHub
        </a>
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[#020617] border-t border-[#334155] py-10 text-center">
    <div class="max-w-6xl mx-auto px-5">
      <p class="text-slate-400 mb-2">Made with ‚ù§Ô∏è by <a href="https://github.com/Yakrel" class="text-slate-400 hover:text-violet-500">Berkay Yetgin</a></p>
      <p class="text-slate-400">
        Licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.html" class="text-slate-400 hover:text-violet-500">GPL-3.0</a> ‚Ä¢ 
        <a href="https://github.com/Yakrel/wabbajack-library-cleaner" class="text-slate-400 hover:text-violet-500">GitHub</a>
      </p>
    </div>
  </footer>
</Layout>
